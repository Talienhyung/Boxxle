<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./style.css">
    <title>Boxxle.io</title>
    

</head>

<body onload="onload()">
     <!-- the container where we show usernam and error -->
    <div class="username" id="username">
        <div class="border1">
            <div class="border">
                <input onkeydown=" backgroundaudio()"  required id="userInput" type="text"  placeholder="Write your Name Here ">
                <span id="error"></span>
    
                <button class="save-btn reset-btn " id="save"> START</button>
    
            </div>
        </div>
    </div>
    <!-- The win Show Container -->
    <div id="winContainer">
        <p id="win">Hurrah!!! You Have won</p>

    </div>
    <!-- the paragragh where we show Player name -->
    <p id="para"> Player's Name : <span id="showUsername"> </span></p>
    
    <!-- The Ganeboard -->
    <div id="gameboard">
       
    <!-- The reset btn -->
    </div> 

    <button id="reset-btnn" >Reset</button>
    
    <button id="openPopup">Settings</button>

    <div id="configPopup" class="popup">
        <div class="popup-content">
            <span class="close">&times;</span>
            <h2>Key configuration</h2>
            <label for="key1">Up :</label>
            <input type="text" id="key1" placeholder="z" readonly>
            <button onclick="setKey(1)">Changer</button><br>
            <label for="key2">Down :</label>
            <input type="text" id="key2" placeholder="s" readonly>
            <button onclick="setKey(2)">Changer</button><br>
            <label for="key3">Left :</label>
            <input type="text" id="key3" placeholder="q" readonly>
            <button onclick="setKey(3)">Changer</button><br>
            <label for="key4">Right :</label>
            <input type="text" id="key4" placeholder="d" readonly>
            <button onclick="setKey(4)">Changer</button><br>
        </div>
    </div>

    <script>
        const openButton = document.getElementById('openPopup');
        const popup = document.getElementById('configPopup');
        const closeButton = document.querySelector('.close');
        const keyInputs = document.querySelectorAll('input[type="text"]');

        openButton.addEventListener('click', function() {
            popup.style.display = 'block';
        });

        closeButton.addEventListener('click', function() {
            popup.style.display = 'none';
        });

        window.addEventListener('click', function(event) {
            if (event.target == popup) {
                popup.style.display = 'none';
            }
        });

        function setKey(keyNumber) {
            document.addEventListener('keydown', function(event) {
                const key = event.key;
                const input = document.getElementById('key' + keyNumber);
                input.value = key;
            }, { once: true });
        }
    </script>

    <script src="main.js"></script>
    
   
    <script type= "module" src="./index.js"></script>
    
</body>

</html>